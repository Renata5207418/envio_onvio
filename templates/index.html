<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Posta Onvio</title>
  <link rel="stylesheet" href="static/css/index.css">
</head>
<body>
  <!-- Barra de topo -->
  <header class="top-bar">
    <div class="top-left">
      <img src="static/image/user-solid.svg" alt="Ícone de usuário" class="icon" id="userIcon" />
      <span class="welcome-text" id="welcomeText">Bem-vindo, {{ user }}!</span>
    </div>
    <div class="top-right">
      <div id="downloadContainer" style="position: relative; display: inline-block;">
        <img src="static/image/preview.png" alt="Download" class="icon" id="downloadIcon" title="Conferir Envios" />
        <span id="notificationBadge" class="badge" style="display: none;">!</span>
      </div>
      <button id="logoutButton" class="logout-btn" title="Logout">
        <img src="static/image/right-from-bracket-solid.svg" alt="Logout" class="icon" />
      </button>
    </div>
  </header>

  <!-- Modal de Comparação de Listas -->
  <div id="comparisonModal" class="modal" style="display: none;">
    <div class="modal-content">
      <span id="closeComparisonModal" class="close">&times;</span>
      <h2>Comparar Listas de Documentos</h2>
      <label for="listaSelect">Selecione a lista para comparar:</label>
      <select id="listaSelect">
        <option value="">Carregando listas...</option>
      </select>
      <button id="deleteListButton">Excluir Lista Selecionada</button>
      <br><br>
      <label for="listaTexto">Cole a lista de documentos (um por linha):</label>
      <textarea id="listaTexto" rows="8" style="width: 100%;" placeholder="Cole aqui a lista de documentos"></textarea>
      <br>
      <button id="compareButton">Comparar Listas</button>
      <button id="downloadExcelBtn" style="background-color:#4CAF50; color:white; border:none; padding:8px 16px; border-radius:5px; cursor:pointer;">
        Baixar Excel
      </button>
      <div id="comparisonResult" style="margin-top: 15px;"></div>
    </div>
  </div>


<main class="container">
  <h2>Postagem de Documentos Onvio</h2>

  <!-- Form principal, contendo duas colunas -->
  <form id="indexForm" class="form-duas-colunas">
    <!-- Coluna da esquerda -->
    <div class="col-esquerda">
      <label for="loginDominio">Login Domínio:</label>
      <input type="text" id="loginDominio" name="loginDominio" placeholder="Digite seu login" required>

      <label for="senhaDominio">Senha Domínio:</label>
      <input type="text" id="senhaDominio" name="senhaDominio" placeholder="Digite sua senha" required>

      <label for="senhaOnvio">Senha Onvio:</label>
      <input type="text" id="senhaOnvio" name="senhaOnvio" placeholder="Digite sua senha Onvio" required>
    </div>

    <!-- Coluna da direita -->
    <div class="col-direita">
      <label for="nomeJsonComparacao">Nome para o arquivo de Comparação (opcional**):</label>
      <small style="font-size: 11px;">**Caso não insira ele será criado com data e hora do envio.</small>
      <br>
      <input type="text" id="nomeJsonComparacao" placeholder="Opcional: Ex. Lista_Envio_25Mar">

      <label for="dataVencimento">Data de Vencimento:</label>
      <input type="date" id="dataVencimento" name="dataVencimento">

      <label for="fiscalOpcao" id="fiscalOpcaoLabel" style="display: none;">Selecione a opção de Caminho:</label>
      <select id="fiscalOpcao" name="fiscalOpcao" style="display: none;">
        <option value="">-- Selecione --</option>
        <option value="Impostos">IMPOSTOS</option>
        <option value="Parcelamentos">PARCELAMENTOS</option>
        <option value="Retenções">RETENÇÕES</option>
      </select>

      <label for="anexos">Arraste seus arquivos ou clique aqui:</label>
      <div id="dropzone" class="dropzone">
        <p>Arraste seus arquivos ou clique aqui</p>
      </div>
      <input type="file" id="anexos" name="files[]" multiple style="display: none;">
      <div id="fileListContainer" class="file-list-container">
        <p>Nenhum arquivo adicionado ainda.</p>
      </div>

      <button type="submit" id="submitButton">Enviar</button>
    </div>

  </form>
</main>
  <script src="static/js/index.js"></script>
</body>
</html>
